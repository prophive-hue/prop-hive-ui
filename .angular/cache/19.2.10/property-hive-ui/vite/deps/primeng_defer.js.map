{
  "version": 3,
  "sources": ["../../../../../../node_modules/primeng/fesm2022/primeng-defer.mjs"],
  "sourcesContent": ["import { isPlatformBrowser } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { EventEmitter, inject, ViewContainerRef, TemplateRef, ContentChild, Output, Directive, NgModule } from '@angular/core';\nimport { BaseComponent } from 'primeng/basecomponent';\n\n/**\n * Defer postpones the loading the content that is initially not in the viewport until it becomes visible on scroll.\n * @deprecated use Angular defer block instead.\n * @group Components\n */\nclass Defer extends BaseComponent {\n  /**\n   * Callback to invoke when deferred content is loaded.\n   * @param {Event} event - Browser event.\n   * @group Emits\n   */\n  onLoad = new EventEmitter();\n  template;\n  documentScrollListener;\n  view;\n  viewContainer = inject(ViewContainerRef);\n  ngOnInit() {\n    super.ngOnInit();\n    console.log('Defer is deprecated as of v18, use Angular defer block instead.');\n  }\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n    if (isPlatformBrowser(this.platformId)) {\n      if (this.shouldLoad()) {\n        this.load();\n      }\n      if (!this.isLoaded()) {\n        this.documentScrollListener = this.renderer.listen(this.document.defaultView, 'scroll', () => {\n          if (this.shouldLoad()) {\n            this.load();\n            this.documentScrollListener && this.documentScrollListener();\n            this.documentScrollListener = null;\n          }\n        });\n      }\n    }\n  }\n  shouldLoad() {\n    if (this.isLoaded()) {\n      return false;\n    } else {\n      let rect = this.el.nativeElement.getBoundingClientRect();\n      let docElement = this.document.documentElement;\n      let winHeight = docElement.clientHeight;\n      return winHeight >= rect.top;\n    }\n  }\n  load() {\n    this.view = this.viewContainer.createEmbeddedView(this.template);\n    this.onLoad.emit();\n    this.cd.detectChanges();\n  }\n  isLoaded() {\n    return this.view != null && isPlatformBrowser(this.platformId);\n  }\n  ngOnDestroy() {\n    this.view = null;\n    if (this.documentScrollListener) {\n      this.documentScrollListener();\n    }\n  }\n  static ɵfac = /* @__PURE__ */(() => {\n    let ɵDefer_BaseFactory;\n    return function Defer_Factory(__ngFactoryType__) {\n      return (ɵDefer_BaseFactory || (ɵDefer_BaseFactory = i0.ɵɵgetInheritedFactory(Defer)))(__ngFactoryType__ || Defer);\n    };\n  })();\n  static ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: Defer,\n    selectors: [[\"\", \"pDefer\", \"\"]],\n    contentQueries: function Defer_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        i0.ɵɵcontentQuery(dirIndex, TemplateRef, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.template = _t.first);\n      }\n    },\n    outputs: {\n      onLoad: \"onLoad\"\n    },\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(Defer, [{\n    type: Directive,\n    args: [{\n      selector: '[pDefer]',\n      standalone: true\n    }]\n  }], null, {\n    onLoad: [{\n      type: Output\n    }],\n    template: [{\n      type: ContentChild,\n      args: [TemplateRef]\n    }]\n  });\n})();\nclass DeferModule {\n  static ɵfac = function DeferModule_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || DeferModule)();\n  };\n  static ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: DeferModule,\n    imports: [Defer],\n    exports: [Defer]\n  });\n  static ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DeferModule, [{\n    type: NgModule,\n    args: [{\n      imports: [Defer],\n      exports: [Defer]\n    }]\n  }], null, null);\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { Defer, DeferModule };\n"],
  "mappings": "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",
  "names": []
}
